<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EM Field Theory Lab ‚Äî Paper X</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,0,0"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/tailwind.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                container: { center: true, padding: '1rem' },
                extend: {
                    fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui', 'sans-serif'] },
                    colors: {
                        brand: { 900: '#1E1E2F', 700: '#4C2A59', 500: '#9E4B8A' },
                        brandlt: { 50: '#FAF5FB', 100: '#F3E7F2', 200: '#E7D0E4', 300: '#D9B4D3', 400: '#C88DBA', 500: '#9E4B8A', 700: '#4C2A59', 900: '#1E1E2F' }
                    },
                    boxShadow: { glow: '0 8px 30px rgba(158,75,138,0.35)' }
                }
            }
        }
    </script>
    <style>
        :root {
            --bg-app: #F7F2F9;
            --bg-card: #FFFFFF;
            --text-head: #1E1E2F;
            --text-body: #2F2F3A;
            --text-sub: #5A5A6B;
            --border: #E5DFEC;
            --accent: #9E4B8A;
            --accent-glow: rgba(158, 75, 138, 0.4);
        }

        .dark {
            --bg-app: #1E1E2F;
            --bg-card: #201934;
            --text-head: #F3E7F2;
            --text-body: #E8E3EE;
            --text-sub: #C9BED5;
            --border: #3A3247;
            --accent: #C88DBA;
            --accent-glow: rgba(200, 141, 186, 0.4);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
        }

        .lab-shell {
            min-height: 100vh;
            background: linear-gradient(180deg, #FFFFFF 0%, #FBF8FC 45%, #F7F2F9 100%);
        }

        .dark .lab-shell {
            background: linear-gradient(180deg, #1E1E2F 0%, #201934 55%, #141321 100%);
        }

        .glass-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(243, 231, 242, 0.9));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(158, 75, 138, 0.15);
            border-radius: 1.5rem;
            box-shadow: 0 20px 50px -15px rgba(30, 30, 47, 0.25);
        }

        .dark .glass-card {
            background: linear-gradient(145deg, rgba(32, 25, 52, 0.95), rgba(30, 30, 47, 0.9));
            border-color: rgba(200, 141, 186, 0.25);
            box-shadow: 0 25px 60px -15px rgba(0, 0, 0, 0.6);
        }

        .mode-tabs {
            display: flex;
            gap: 0.5rem;
            background: var(--bg-app);
            padding: 0.5rem;
            border-radius: 1rem;
        }

        .mode-tab {
            flex: 1;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            color: var(--text-sub);
            border: none;
            background: transparent;
            font-size: 0.85rem;
        }

        .mode-tab.active {
            background: linear-gradient(135deg, #9E4B8A, #B06AB3);
            color: white;
            box-shadow: 0 8px 25px rgba(158, 75, 138, 0.4);
        }

        .mode-tab:hover:not(.active) {
            background: rgba(158, 75, 138, 0.1);
            color: var(--text-head);
        }

        .param-group {
            margin-bottom: 1rem;
        }

        .param-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.4rem;
            font-size: 0.8rem;
            color: var(--text-body);
        }

        .param-value {
            font-weight: 700;
            color: var(--accent);
            font-size: 0.9rem;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            background: var(--border);
            border-radius: 3px;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #9E4B8A, #B06AB3);
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 3px 10px rgba(158, 75, 138, 0.5);
            border: 2px solid white;
        }

        .dark input[type="range"]::-webkit-slider-thumb {
            border-color: var(--bg-card);
        }

        .sim-canvas {
            width: 100%;
            height: 480px;
            border-radius: 1rem;
            background: radial-gradient(ellipse at center, rgba(158, 75, 138, 0.05) 0%, transparent 70%);
            position: relative;
            overflow: hidden;
        }

        .dark .sim-canvas {
            background: radial-gradient(ellipse at center, rgba(158, 75, 138, 0.1) 0%, transparent 70%);
        }

        #emCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .gauge-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        .gauge-card {
            background: var(--bg-app);
            border-radius: 0.6rem;
            padding: 0.6rem;
            text-align: center;
            border: 1px solid var(--border);
        }

        .gauge-icon {
            font-size: 1rem;
            margin-bottom: 0.15rem;
            color: var(--accent);
        }

        .gauge-value {
            font-size: 1.1rem;
            font-weight: 800;
            color: var(--text-head);
            line-height: 1.1;
        }

        .gauge-unit {
            font-size: 0.6rem;
            color: var(--text-sub);
        }

        .gauge-label {
            font-size: 0.55rem;
            color: var(--text-sub);
            text-transform: uppercase;
            letter-spacing: 0.02em;
        }

        .theory-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .theory-tab {
            padding: 0.6rem 1.25rem;
            font-weight: 600;
            color: var(--text-sub);
            cursor: pointer;
            border-radius: 2rem;
            transition: all 0.3s;
            background: var(--bg-app);
            border: 1px solid var(--border);
            font-size: 0.9rem;
        }

        .theory-tab.active {
            background: linear-gradient(135deg, #9E4B8A, #B06AB3);
            color: white;
            border-color: transparent;
        }

        .theory-content {
            display: none;
            animation: fadeIn 0.4s;
        }

        .theory-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .equation-box {
            background: linear-gradient(135deg, rgba(158, 75, 138, 0.1), rgba(76, 42, 89, 0.05));
            border: 1px solid rgba(158, 75, 138, 0.2);
            border-radius: 1rem;
            padding: 1rem;
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
            text-align: center;
            color: var(--text-head);
        }

        .equation-box .eq-title {
            font-family: 'Inter', sans-serif;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-sub);
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .vector-legend {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 0.5rem;
            font-size: 0.75rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            color: var(--text-body);
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
    <script>
            (function () {
                try {
                    const s = localStorage.getItem('px_theme');
                    const prefers = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    if (s ? s === 'dark' : prefers) document.documentElement.classList.add('dark');
                } catch (_) { }
            })();
    </script>
</head>

<body class="min-h-screen font-sans antialiased text-neutral-900 dark:text-white">
    <header
        class="sticky top-0 z-50 bg-white/80 dark:bg-brand-900/70 backdrop-blur border-b border-black/5 dark:border-white/10">
        <div class="container flex items-center justify-between py-3">
            <a href="../index.html" class="flex items-center gap-3 shrink-0">
                <img src="../assets/img/logo-light.svg" class="h-9 w-auto dark:hidden" alt="Paper X" />
                <img src="../assets/img/logo-dark.svg" class="h-9 w-auto hidden dark:block" alt="Paper X" />
            </a>
            <nav class="hidden md:flex items-center gap-6 text-sm text-neutral-700 dark:text-white/85">
                <a href="../index.html" class="hover:text-brand-500">Home</a>
                <a href="../academicas.html" class="hover:text-brand-500">Academics</a>
            </nav>
            <button id="themeToggle"
                class="inline-flex items-center gap-2 rounded-full px-3 py-2 text-sm ring-1 ring-black/10 dark:ring-white/15 hover:bg-black/5 dark:hover:bg-white/5">
                <span class="material-symbols-rounded">dark_mode</span>
                <span class="hidden lg:block">Theme</span>
            </button>
        </div>
    </header>

    <main class="lab-shell pb-12">
        <section class="pt-6 pb-4">
            <div class="container max-w-7xl mx-auto px-4 text-center">
                <h1 class="text-2xl md:text-3xl font-bold tracking-tight mb-2" style="color: var(--text-head);">
                    <span class="material-symbols-rounded text-3xl align-middle mr-2"
                        style="color: var(--accent);">electric_bolt</span>
                    Electromagnetic Field Theory Simulator
                </h1>
                <p class="text-sm max-w-2xl mx-auto" style="color: var(--text-sub);">
                    Explore electric fields, magnetic fields, and electromagnetic wave propagation with real-time
                    visualization
                </p>
                <div class="max-w-lg mx-auto mt-4">
                    <div class="mode-tabs">
                        <button class="mode-tab active" data-mode="electric">
                            <span class="material-symbols-rounded align-middle mr-1" style="font-size:1rem;">bolt</span>
                            Electric Field
                        </button>
                        <button class="mode-tab" data-mode="magnetic">
                            <span class="material-symbols-rounded align-middle mr-1"
                                style="font-size:1rem;">rotate_right</span> Magnetic Field
                        </button>
                        <button class="mode-tab" data-mode="wave">
                            <span class="material-symbols-rounded align-middle mr-1"
                                style="font-size:1rem;">waves</span> EM Wave
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <div class="container max-w-7xl mx-auto px-4">
                <div class="main-grid" style="display: grid; grid-template-columns: 1fr 340px; gap: 1.5rem;">
                    <div class="glass-card p-5">
                        <div class="flex items-center justify-between mb-2">
                            <h2 class="text-lg font-bold" style="color: var(--text-head);" id="vizTitle">Electric Field
                                Visualization</h2>
                            <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold"
                                style="background: rgba(158,75,138,0.15); color: var(--accent);" id="statusBadge">
                                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span> Live
                            </span>
                        </div>
                        <div class="sim-canvas">
                            <canvas id="emCanvas"></canvas>
                        </div>
                        <div class="vector-legend" id="vectorLegend">
                            <div class="legend-item">
                                <div class="legend-dot" style="background: #E53935;"></div> E-Field
                            </div>
                            <div class="legend-item">
                                <div class="legend-dot" style="background: #1E88E5;"></div> B-Field
                            </div>
                            <div class="legend-item">
                                <div class="legend-dot" style="background: #9E4B8A;"></div> Energy Flow
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="glass-card p-5">
                            <h3 class="text-base font-bold mb-3" style="color: var(--text-head);">
                                <span class="material-symbols-rounded align-middle mr-1"
                                    style="color: var(--accent);">tune</span>
                                Control Parameters
                            </h3>
                            <div id="electricControls">
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Charge Q‚ÇÅ</span>
                                        <span class="param-value" id="charge1Value">+5 ŒºC</span>
                                    </div>
                                    <input type="range" id="charge1Slider" min="-10" max="10" value="5" step="0.5">
                                </div>
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Charge Q‚ÇÇ</span>
                                        <span class="param-value" id="charge2Value">-3 ŒºC</span>
                                    </div>
                                    <input type="range" id="charge2Slider" min="-10" max="10" value="-3" step="0.5">
                                </div>
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Field Line Density</span>
                                        <span class="param-value" id="densityValue">16</span>
                                    </div>
                                    <input type="range" id="densitySlider" min="8" max="32" value="16" step="4">
                                </div>
                            </div>
                            <div id="magneticControls" style="display: none;">
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Current I</span>
                                        <span class="param-value" id="currentValue">5 A</span>
                                    </div>
                                    <input type="range" id="currentSlider" min="0.5" max="10" value="5" step="0.5">
                                </div>
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Wire Loops</span>
                                        <span class="param-value" id="loopsValue">1</span>
                                    </div>
                                    <input type="range" id="loopsSlider" min="1" max="10" value="1" step="1">
                                </div>
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Distance r</span>
                                        <span class="param-value" id="distanceValue">2 cm</span>
                                    </div>
                                    <input type="range" id="distanceSlider" min="0.5" max="5" value="2" step="0.5">
                                </div>
                            </div>
                            <div id="waveControls" style="display: none;">
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Frequency f</span>
                                        <span class="param-value" id="freqValue">2 Hz</span>
                                    </div>
                                    <input type="range" id="freqSlider" min="0.5" max="5" value="2" step="0.25">
                                </div>
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Amplitude</span>
                                        <span class="param-value" id="ampValue">80%</span>
                                    </div>
                                    <input type="range" id="ampSlider" min="20" max="100" value="80" step="5">
                                </div>
                                <div class="param-group">
                                    <div class="param-label">
                                        <span>Wavelength Œª</span>
                                        <span class="param-value" id="wavelengthValue">150 px</span>
                                    </div>
                                    <input type="range" id="wavelengthSlider" min="80" max="250" value="150" step="10">
                                </div>
                            </div>
                            <div class="flex gap-2 mt-4">
                                <button id="resetBtn" class="flex-1 py-2 px-3 rounded-lg font-semibold text-sm"
                                    style="background: var(--bg-app); color: var(--text-body); border: 1px solid var(--border);">
                                    <span class="material-symbols-rounded align-middle mr-1"
                                        style="font-size: 1rem;">restart_alt</span> Reset
                                </button>
                                <button id="pauseBtn"
                                    class="flex-1 py-2 px-3 rounded-lg font-semibold text-sm text-white"
                                    style="background: linear-gradient(135deg, #9E4B8A, #B06AB3);">
                                    <span class="material-symbols-rounded align-middle mr-1" style="font-size: 1rem;"
                                        id="pauseIcon">pause</span>
                                    <span id="pauseText">Pause</span>
                                </button>
                            </div>
                        </div>

                        <div class="glass-card p-5">
                            <h3 class="text-base font-bold mb-3" style="color: var(--text-head);">
                                <span class="material-symbols-rounded align-middle mr-1"
                                    style="color: var(--accent);">monitoring</span>
                                Live Output
                            </h3>
                            <div class="gauge-grid" id="electricGauges">
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">bolt</span></div>
                                    <div class="gauge-value" id="eFieldOutput">450</div>
                                    <div class="gauge-unit">V/m</div>
                                    <div class="gauge-label">E-Field</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">attractions</span>
                                    </div>
                                    <div class="gauge-value" id="forceOutput">2.7</div>
                                    <div class="gauge-unit">N</div>
                                    <div class="gauge-label">Force</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">energy</span></div>
                                    <div class="gauge-value" id="potentialOutput">135</div>
                                    <div class="gauge-unit">V</div>
                                    <div class="gauge-label">Potential</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">battery_full</span>
                                    </div>
                                    <div class="gauge-value" id="energyOutput">0.68</div>
                                    <div class="gauge-unit">J</div>
                                    <div class="gauge-label">Energy</div>
                                </div>
                            </div>
                            <div class="gauge-grid" id="magneticGauges" style="display: none;">
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">rotate_right</span>
                                    </div>
                                    <div class="gauge-value" id="bFieldOutput">50</div>
                                    <div class="gauge-unit">ŒºT</div>
                                    <div class="gauge-label">B-Field</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">link</span></div>
                                    <div class="gauge-value" id="fluxOutput">3.14</div>
                                    <div class="gauge-unit">Wb</div>
                                    <div class="gauge-label">Flux</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">speed</span></div>
                                    <div class="gauge-value" id="inductanceOutput">1.26</div>
                                    <div class="gauge-unit">ŒºH</div>
                                    <div class="gauge-label">Inductance</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span
                                            class="material-symbols-rounded">battery_charging_full</span></div>
                                    <div class="gauge-value" id="magEnergyOutput">15.7</div>
                                    <div class="gauge-unit">mJ</div>
                                    <div class="gauge-label">Energy</div>
                                </div>
                            </div>
                            <div class="gauge-grid" id="waveGauges" style="display: none;">
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">speed</span></div>
                                    <div class="gauge-value" id="speedOutput">3√ó10‚Å∏</div>
                                    <div class="gauge-unit">m/s</div>
                                    <div class="gauge-label">Speed c</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">energy</span></div>
                                    <div class="gauge-value" id="poyntingOutput">1.2</div>
                                    <div class="gauge-unit">W/m¬≤</div>
                                    <div class="gauge-label">Poynting</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">bolt</span></div>
                                    <div class="gauge-value" id="eMaxOutput">85</div>
                                    <div class="gauge-unit">V/m</div>
                                    <div class="gauge-label">E‚ÇÄ</div>
                                </div>
                                <div class="gauge-card">
                                    <div class="gauge-icon"><span class="material-symbols-rounded">rotate_right</span>
                                    </div>
                                    <div class="gauge-value" id="bMaxOutput">283</div>
                                    <div class="gauge-unit">nT</div>
                                    <div class="gauge-label">B‚ÇÄ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mt-6">
            <div class="container max-w-7xl mx-auto px-4">
                <div class="glass-card p-6">
                    <div class="theory-tabs">
                        <button class="theory-tab active" data-tab="maxwell">
                            <span class="material-symbols-rounded align-middle mr-1"
                                style="font-size: 1rem;">functions</span> Maxwell's Equations
                        </button>
                        <button class="theory-tab" data-tab="waves">
                            <span class="material-symbols-rounded align-middle mr-1"
                                style="font-size: 1rem;">waves</span> EM Waves
                        </button>
                        <button class="theory-tab" data-tab="applications">
                            <span class="material-symbols-rounded align-middle mr-1"
                                style="font-size: 1rem;">lightbulb</span> Applications
                        </button>
                    </div>
                    <div id="tab-maxwell" class="theory-content active">
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                            <div class="equation-box">
                                <div class="eq-title">Gauss's Law (Electric)</div>
                                ‚àá ¬∑ E = œÅ / Œµ‚ÇÄ
                                <p
                                    style="font-size: 0.75rem; margin-top: 0.5rem; font-family: Inter; color: var(--text-sub);">
                                    Electric field diverges from charges</p>
                            </div>
                            <div class="equation-box">
                                <div class="eq-title">Gauss's Law (Magnetic)</div>
                                ‚àá ¬∑ B = 0
                                <p
                                    style="font-size: 0.75rem; margin-top: 0.5rem; font-family: Inter; color: var(--text-sub);">
                                    No magnetic monopoles exist</p>
                            </div>
                            <div class="equation-box">
                                <div class="eq-title">Faraday's Law</div>
                                ‚àá √ó E = ‚àí‚àÇB/‚àÇt
                                <p
                                    style="font-size: 0.75rem; margin-top: 0.5rem; font-family: Inter; color: var(--text-sub);">
                                    Changing B creates E</p>
                            </div>
                            <div class="equation-box">
                                <div class="eq-title">Amp√®re-Maxwell Law</div>
                                ‚àá √ó B = Œº‚ÇÄJ + Œº‚ÇÄŒµ‚ÇÄ‚àÇE/‚àÇt
                                <p
                                    style="font-size: 0.75rem; margin-top: 0.5rem; font-family: Inter; color: var(--text-sub);">
                                    Currents & changing E create B</p>
                            </div>
                        </div>
                    </div>
                    <div id="tab-waves" class="theory-content">
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                            <div>
                                <h4 class="font-bold mb-3 text-lg" style="color: var(--text-head);">
                                    <span class="material-symbols-rounded align-middle mr-2"
                                        style="color: var(--accent);">waves</span>
                                    Wave Equation
                                </h4>
                                <p style="color: var(--text-body); line-height: 1.8;">
                                    EM waves are self-propagating oscillations of electric and magnetic fields. The
                                    <strong>E</strong> and <strong>B</strong> fields are perpendicular to each other and
                                    to the direction of propagation.
                                </p>
                                <div class="equation-box" style="margin-top: 1rem;">
                                    <div class="eq-title">Wave Speed</div>
                                    c = 1/‚àö(Œº‚ÇÄŒµ‚ÇÄ) = 3√ó10‚Å∏ m/s
                                </div>
                            </div>
                            <div>
                                <h4 class="font-bold mb-3 text-lg" style="color: var(--text-head);">
                                    <span class="material-symbols-rounded align-middle mr-2"
                                        style="color: var(--accent);">energy</span>
                                    Energy Transport
                                </h4>
                                <p style="color: var(--text-body); line-height: 1.8;">
                                    The <strong>Poynting vector</strong> S = E √ó B / Œº‚ÇÄ describes the directional energy
                                    flux (power per unit area) of an EM field.
                                </p>
                                <div class="equation-box" style="margin-top: 1rem;">
                                    <div class="eq-title">Intensity</div>
                                    I = ¬ΩŒµ‚ÇÄcE‚ÇÄ¬≤
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-applications" class="theory-content">
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                            <div
                                style="padding: 1.25rem; background: var(--bg-app); border-radius: 1rem; border: 1px solid var(--border);">
                                <h5 style="font-weight: 700; color: var(--text-head); margin-bottom: 0.5rem;">üì° Radio &
                                    Communications</h5>
                                <p style="color: var(--text-body); font-size: 0.9rem; line-height: 1.6;">Radio waves
                                    (kHz-GHz) carry information via amplitude/frequency modulation. Used in
                                    broadcasting, WiFi, cellular networks.</p>
                            </div>
                            <div
                                style="padding: 1.25rem; background: var(--bg-app); border-radius: 1rem; border: 1px solid var(--border);">
                                <h5 style="font-weight: 700; color: var(--text-head); margin-bottom: 0.5rem;">üå°Ô∏è
                                    Microwave Technology</h5>
                                <p style="color: var(--text-body); font-size: 0.9rem; line-height: 1.6;">Microwaves
                                    (GHz) used in cooking, radar systems, satellite communications, and medical imaging
                                    (MRI).</p>
                            </div>
                            <div
                                style="padding: 1.25rem; background: var(--bg-app); border-radius: 1rem; border: 1px solid var(--border);">
                                <h5 style="font-weight: 700; color: var(--text-head); margin-bottom: 0.5rem;">üí° Optics
                                    & Light</h5>
                                <p style="color: var(--text-body); font-size: 0.9rem; line-height: 1.6;">Visible light
                                    (400-700nm) enables vision, photography, fiber optic communications, and laser
                                    technology.</p>
                            </div>
                            <div
                                style="padding: 1.25rem; background: var(--bg-app); border-radius: 1rem; border: 1px solid var(--border);">
                                <h5 style="font-weight: 700; color: var(--text-head); margin-bottom: 0.5rem;">üî¨ Medical
                                    Imaging</h5>
                                <p style="color: var(--text-body); font-size: 0.9rem; line-height: 1.6;">X-rays and
                                    gamma rays used in medical diagnostics, CT scans, and cancer treatment (radiation
                                    therapy).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        const state = {
            mode: 'electric', paused: false, time: 0,
            charge1: 5, charge2: -3, density: 16,
            current: 5, loops: 1, distance: 2,
            freq: 2, amp: 80, wavelength: 150
        };
        let canvas, ctx, animId;
        const k = 8.99e9, mu0 = 4 * Math.PI * 1e-7, eps0 = 8.854e-12, c = 3e8;

        function init() {
            canvas = document.getElementById('emCanvas');
            ctx = canvas.getContext('2d');
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            setupEventListeners();
            animate();
        }

        function resizeCanvas() {
            const rect = canvas.parentElement.getBoundingClientRect();
            canvas.width = rect.width * window.devicePixelRatio;
            canvas.height = rect.height * window.devicePixelRatio;
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
            canvas.style.width = rect.width + 'px';
            canvas.style.height = rect.height + 'px';
        }

        function setupEventListeners() {
            document.querySelectorAll('.mode-tab').forEach(tab => tab.addEventListener('click', () => switchMode(tab.dataset.mode)));
            document.querySelectorAll('.theory-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.theory-tab').forEach(t => t.classList.toggle('active', t === tab));
                    document.querySelectorAll('.theory-content').forEach(c => c.classList.toggle('active', c.id === 'tab-' + tab.dataset.tab));
                });
            });
            document.getElementById('charge1Slider').addEventListener('input', e => { state.charge1 = parseFloat(e.target.value); document.getElementById('charge1Value').textContent = (state.charge1 > 0 ? '+' : '') + state.charge1 + ' ŒºC'; updateOutputs(); });
            document.getElementById('charge2Slider').addEventListener('input', e => { state.charge2 = parseFloat(e.target.value); document.getElementById('charge2Value').textContent = (state.charge2 > 0 ? '+' : '') + state.charge2 + ' ŒºC'; updateOutputs(); });
            document.getElementById('densitySlider').addEventListener('input', e => { state.density = parseInt(e.target.value); document.getElementById('densityValue').textContent = state.density; });
            document.getElementById('currentSlider').addEventListener('input', e => { state.current = parseFloat(e.target.value); document.getElementById('currentValue').textContent = state.current + ' A'; updateOutputs(); });
            document.getElementById('loopsSlider').addEventListener('input', e => { state.loops = parseInt(e.target.value); document.getElementById('loopsValue').textContent = state.loops; updateOutputs(); });
            document.getElementById('distanceSlider').addEventListener('input', e => { state.distance = parseFloat(e.target.value); document.getElementById('distanceValue').textContent = state.distance + ' cm'; updateOutputs(); });
            document.getElementById('freqSlider').addEventListener('input', e => { state.freq = parseFloat(e.target.value); document.getElementById('freqValue').textContent = state.freq + ' Hz'; updateOutputs(); });
            document.getElementById('ampSlider').addEventListener('input', e => { state.amp = parseInt(e.target.value); document.getElementById('ampValue').textContent = state.amp + '%'; updateOutputs(); });
            document.getElementById('wavelengthSlider').addEventListener('input', e => { state.wavelength = parseInt(e.target.value); document.getElementById('wavelengthValue').textContent = state.wavelength + ' px'; });
            document.getElementById('resetBtn').addEventListener('click', reset);
            document.getElementById('pauseBtn').addEventListener('click', togglePause);
            document.getElementById('themeToggle').addEventListener('click', () => { document.documentElement.classList.toggle('dark'); localStorage.setItem('px_theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light'); });
        }

        function switchMode(mode) {
            state.mode = mode;
            document.querySelectorAll('.mode-tab').forEach(t => t.classList.toggle('active', t.dataset.mode === mode));
            document.getElementById('vizTitle').textContent = mode === 'electric' ? 'Electric Field Visualization' : mode === 'magnetic' ? 'Magnetic Field Visualization' : 'EM Wave Propagation';
            document.getElementById('electricControls').style.display = mode === 'electric' ? 'block' : 'none';
            document.getElementById('magneticControls').style.display = mode === 'magnetic' ? 'block' : 'none';
            document.getElementById('waveControls').style.display = mode === 'wave' ? 'block' : 'none';
            document.getElementById('electricGauges').style.display = mode === 'electric' ? 'grid' : 'none';
            document.getElementById('magneticGauges').style.display = mode === 'magnetic' ? 'grid' : 'none';
            document.getElementById('waveGauges').style.display = mode === 'wave' ? 'grid' : 'none';
            updateOutputs();
        }

        function updateOutputs() {
            if (state.mode === 'electric') {
                const Q1 = Math.abs(state.charge1) * 1e-6, Q2 = Math.abs(state.charge2) * 1e-6;
                const r = 0.05;
                const E = k * Q1 / (r * r);
                const F = k * Q1 * Q2 / (r * r);
                const V = k * Q1 / r;
                const U = k * Q1 * Q2 / r;
                gsap.to('#eFieldOutput', { textContent: (E / 1e6).toFixed(0), duration: 0.3, snap: { textContent: 1 } });
                gsap.to('#forceOutput', { textContent: Math.abs(F).toFixed(1), duration: 0.3, snap: { textContent: 0.1 } });
                gsap.to('#potentialOutput', { textContent: (V / 1e3).toFixed(0), duration: 0.3, snap: { textContent: 1 } });
                gsap.to('#energyOutput', { textContent: Math.abs(U).toFixed(2), duration: 0.3, snap: { textContent: 0.01 } });
            } else if (state.mode === 'magnetic') {
                const I = state.current, N = state.loops, r = state.distance / 100;
                const B = mu0 * I / (2 * Math.PI * r);
                const phi = B * Math.PI * r * r;
                const L = mu0 * N * N * Math.PI * r / 1;
                const Um = 0.5 * L * I * I;
                gsap.to('#bFieldOutput', { textContent: (B * 1e6).toFixed(0), duration: 0.3, snap: { textContent: 1 } });
                gsap.to('#fluxOutput', { textContent: (phi * 1e6).toFixed(2), duration: 0.3, snap: { textContent: 0.01 } });
                gsap.to('#inductanceOutput', { textContent: (L * 1e6).toFixed(2), duration: 0.3, snap: { textContent: 0.01 } });
                gsap.to('#magEnergyOutput', { textContent: (Um * 1e3).toFixed(1), duration: 0.3, snap: { textContent: 0.1 } });
            } else {
                const E0 = state.amp;
                const B0 = E0 / c * 1e9;
                const S = 0.5 * eps0 * c * E0 * E0 / 1000;
                gsap.to('#eMaxOutput', { textContent: E0.toFixed(0), duration: 0.3, snap: { textContent: 1 } });
                gsap.to('#bMaxOutput', { textContent: B0.toFixed(0), duration: 0.3, snap: { textContent: 1 } });
                gsap.to('#poyntingOutput', { textContent: S.toFixed(2), duration: 0.3, snap: { textContent: 0.01 } });
            }
        }

        function animate() {
            if (!state.paused) {
                state.time += 0.016;
                draw();
            }
            animId = requestAnimationFrame(animate);
        }

        function draw() {
            const w = canvas.width / window.devicePixelRatio;
            const h = canvas.height / window.devicePixelRatio;
            const isDark = document.documentElement.classList.contains('dark');
            ctx.fillStyle = isDark ? '#1E1E2F' : '#FAFAFA';
            ctx.fillRect(0, 0, w, h);

            if (state.mode === 'electric') drawElectricField(w, h, isDark);
            else if (state.mode === 'magnetic') drawMagneticField(w, h, isDark);
            else drawEMWave(w, h, isDark);
        }

        function drawElectricField(w, h, isDark) {
            const cx1 = w * 0.35, cy1 = h * 0.5;
            const cx2 = w * 0.65, cy2 = h * 0.5;
            const q1 = state.charge1, q2 = state.charge2;
            ctx.lineWidth = 1.5;
            for (let i = 0; i < state.density; i++) {
                const angle = (2 * Math.PI * i) / state.density;
                let x = cx1 + Math.cos(angle) * 25, y = cy1 + Math.sin(angle) * 25;
                ctx.beginPath();
                ctx.moveTo(x, y);
                for (let step = 0; step < 150; step++) {
                    let Ex = 0, Ey = 0;
                    const dx1 = x - cx1, dy1 = y - cy1, r1 = Math.sqrt(dx1 * dx1 + dy1 * dy1) + 1;
                    Ex += q1 * dx1 / (r1 * r1 * r1); Ey += q1 * dy1 / (r1 * r1 * r1);
                    const dx2 = x - cx2, dy2 = y - cy2, r2 = Math.sqrt(dx2 * dx2 + dy2 * dy2) + 1;
                    Ex += q2 * dx2 / (r2 * r2 * r2); Ey += q2 * dy2 / (r2 * r2 * r2);
                    const mag = Math.sqrt(Ex * Ex + Ey * Ey) + 0.001;
                    x += (Ex / mag) * 4; y += (Ey / mag) * 4;
                    ctx.lineTo(x, y);
                    if (x < 0 || x > w || y < 0 || y > h) break;
                }
                const grad = ctx.createLinearGradient(cx1, cy1, cx2, cy2);
                grad.addColorStop(0, q1 > 0 ? '#E53935' : '#1E88E5');
                grad.addColorStop(1, q2 > 0 ? '#E53935' : '#1E88E5');
                ctx.strokeStyle = grad;
                ctx.globalAlpha = 0.7;
                ctx.stroke();
                ctx.globalAlpha = 1;
            }
            drawCharge(cx1, cy1, q1, isDark);
            drawCharge(cx2, cy2, q2, isDark);
        }

        function drawCharge(x, y, q, isDark) {
            const r = 22, color = q > 0 ? '#E53935' : '#1E88E5';
            ctx.beginPath();
            ctx.arc(x, y, r, 0, Math.PI * 2);
            const grad = ctx.createRadialGradient(x - 5, y - 5, 0, x, y, r);
            grad.addColorStop(0, q > 0 ? '#FF6F61' : '#42A5F5');
            grad.addColorStop(1, color);
            ctx.fillStyle = grad;
            ctx.fill();
            ctx.strokeStyle = isDark ? '#fff' : '#333';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 18px Inter';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(q > 0 ? '+' : '‚àí', x, y);
        }

        function drawMagneticField(w, h, isDark) {
            const cx = w / 2, cy = h / 2;
            const I = state.current;
            ctx.strokeStyle = '#1E88E5';
            ctx.lineWidth = 2;
            for (let i = 1; i <= 8; i++) {
                const r = 30 + i * 35;
                ctx.beginPath();
                ctx.arc(cx, cy, r, 0, Math.PI * 2);
                ctx.globalAlpha = 0.3 + 0.07 * (8 - i);
                ctx.stroke();
                const arrowAngle = state.time * 0.5 + i * 0.5;
                const ax = cx + r * Math.cos(arrowAngle);
                const ay = cy + r * Math.sin(arrowAngle);
                drawArrow(ax, ay, arrowAngle + Math.PI / 2, 12, '#1E88E5');
            }
            ctx.globalAlpha = 1;
            ctx.beginPath();
            ctx.arc(cx, cy, 20, 0, Math.PI * 2);
            const wireGrad = ctx.createRadialGradient(cx - 5, cy - 5, 0, cx, cy, 20);
            wireGrad.addColorStop(0, '#FFD54F');
            wireGrad.addColorStop(1, '#FF8F00');
            ctx.fillStyle = wireGrad;
            ctx.fill();
            ctx.strokeStyle = isDark ? '#fff' : '#333';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.fillStyle = isDark ? '#fff' : '#333';
            ctx.font = 'bold 20px Inter';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(I > 0 ? '‚äô' : '‚äó', cx, cy);
        }

        function drawArrow(x, y, angle, size, color) {
            ctx.save();
            ctx.translate(x, y);
            ctx.rotate(angle);
            ctx.fillStyle = color;
            ctx.globalAlpha = 0.9;
            ctx.beginPath();
            ctx.moveTo(size, 0);
            ctx.lineTo(-size / 2, size / 2);
            ctx.lineTo(-size / 2, -size / 2);
            ctx.closePath();
            ctx.fill();
            ctx.restore();
            ctx.globalAlpha = 1;
        }

        function drawEMWave(w, h, isDark) {
            const midY = h / 2, midZ = h / 2;
            const amp = state.amp * 1.2;
            const wl = state.wavelength;
            const freq = state.freq;
            const phase = state.time * freq * 4;
            ctx.lineWidth = 3;
            ctx.strokeStyle = isDark ? '#444' : '#ccc';
            ctx.beginPath();
            ctx.moveTo(50, midY);
            ctx.lineTo(w - 50, midY);
            ctx.stroke();
            ctx.beginPath();
            ctx.strokeStyle = '#E53935';
            ctx.lineWidth = 2.5;
            for (let x = 50; x < w - 50; x++) {
                const y = midY + Math.sin((x / wl) * Math.PI * 2 - phase) * amp;
                if (x === 50) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
            ctx.beginPath();
            ctx.strokeStyle = '#1E88E5';
            for (let x = 50; x < w - 50; x++) {
                const y = midY + Math.cos((x / wl) * Math.PI * 2 - phase) * amp * 0.6;
                if (x === 50) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
            ctx.strokeStyle = '#9E4B8A';
            ctx.lineWidth = 2;
            for (let x = 100; x < w - 100; x += 60) {
                const ey = Math.sin((x / wl) * Math.PI * 2 - phase);
                const by = Math.cos((x / wl) * Math.PI * 2 - phase);
                const poynting = ey * by * 30;
                ctx.beginPath();
                ctx.moveTo(x, midY);
                ctx.lineTo(x + poynting, midY);
                ctx.stroke();
                if (Math.abs(poynting) > 5) {
                    drawArrow(x + poynting, midY, poynting > 0 ? 0 : Math.PI, 8, '#9E4B8A');
                }
            }
            ctx.fillStyle = isDark ? '#C9BED5' : '#5A5A6B';
            ctx.font = '12px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('E (red) ‚ä• B (blue) ‚ä• propagation', w / 2, h - 20);
        }

        function reset() {
            state.charge1 = 5; state.charge2 = -3; state.density = 16;
            state.current = 5; state.loops = 1; state.distance = 2;
            state.freq = 2; state.amp = 80; state.wavelength = 150;
            document.getElementById('charge1Slider').value = 5; document.getElementById('charge1Value').textContent = '+5 ŒºC';
            document.getElementById('charge2Slider').value = -3; document.getElementById('charge2Value').textContent = '-3 ŒºC';
            document.getElementById('densitySlider').value = 16; document.getElementById('densityValue').textContent = '16';
            document.getElementById('currentSlider').value = 5; document.getElementById('currentValue').textContent = '5 A';
            document.getElementById('loopsSlider').value = 1; document.getElementById('loopsValue').textContent = '1';
            document.getElementById('distanceSlider').value = 2; document.getElementById('distanceValue').textContent = '2 cm';
            document.getElementById('freqSlider').value = 2; document.getElementById('freqValue').textContent = '2 Hz';
            document.getElementById('ampSlider').value = 80; document.getElementById('ampValue').textContent = '80%';
            document.getElementById('wavelengthSlider').value = 150; document.getElementById('wavelengthValue').textContent = '150 px';
            updateOutputs();
        }

        function togglePause() {
            state.paused = !state.paused;
            document.getElementById('pauseIcon').textContent = state.paused ? 'play_arrow' : 'pause';
            document.getElementById('pauseText').textContent = state.paused ? 'Resume' : 'Pause';
            document.getElementById('statusBadge').innerHTML = state.paused ? '<span class="w-2 h-2 rounded-full bg-yellow-500"></span> Paused' : '<span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span> Live';
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>

</html>